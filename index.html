<!DOCTYPE html>

<head>
  <title>MrBeast Combined Counter</title>
  <meta property="og:title" content="MrBeast Combined Counter">
  <meta property="og:description" content="See MrBeast's Combined Subcount!">
  <meta property="og:url" content="mrbeastcombined.vercel.app">
  <meta property="og:image" content="mrbeastcombined.vercel.app/images/mrbeastlogo.png">
  <meta property="og:image:width" content="400" />
<meta property="og:image:height" content="400" />
  <script type="text/javascript" src="jquery-3.1.1.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@500&display=swap" rel="stylesheet">
  <link rel=stylesheet href="assets/ess/odometer.css">
  <script src="assets/ess/odometer.js"></script>
	<link rel="stylesheet" href="../../assets/css/embed.css" />
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <script async src='/cdn-cgi/bm/cv/669835187/api.js'></script>
      <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<link rel="icon" href="/images/mrbeastlogo.png" type="image/x-icon" sizes="16x16">
<body>
<div id=powered><span id="powered1text" style="color: white" class="text">
	The counts here are estimated and powered by <img
	src="https://www.sctools.org/logo.png"
	alt=""
	id="nialogo"
	width="24"/>
	<a
		href="https://sctools.org/"
    target="_blank"
    style="text-decoration:none"
    rel="noopenernoreferrer"
		title="SCTools"
    id="website">
    SCTools.org
		</a>
<div id=text><span id="mbtext" style="color: #058aff" class="text">MrBeast Combined Count</span>
<div id=show><span id="count" style="color: white" class="odometer">0</span>
	<div id=tex1><span id="mbtex1" style="color: white" class="tex1">Subscribers [ESTIMATED]</span>
    <div id=tex21><span id="mbtex21" style="color: white" class="tex21"><img 
      src="images/githublogo.png"
      alt=""
      id="githublogo"
      width="24"  
      />  <a
        href="https://github.com/Matheusify/mrbeastcombined"
        target="_blank"
        rel="noopenernoreferrer"
        style="text-decoration:none"
        >
        Source Code
      </a></span>
          <div id="chart-container"></div>
  <style>
    body {
      background-color: black;
    }

   #powered {
      font-size: 16pt;
      font-family: Roboto;
      font-weight: 700;
		 	text-align: center;
    }

    #tex21 {
      font-size: 24pt;
      font-family: Roboto;
      font-weight: 700;
		 	text-align: center;
    }
		
    #mbtext {
      font-size: 32pt;
      font-family: Roboto;
      font-weight: 700;
			background: linear-gradient( 
			to right, #058aff, #0259ca);
			-webkit-text-fill-color: transparent; 
			-webkit-background-clip: text; 
			
    }

		#text {
			text-align: center;
		}

		
    #count {
      font-size: 100pt;
      font-family: Roboto;
      font-weight: 700;
    }

    #show {
      text-align: center;
    }

    #website {
      	background: linear-gradient( 
			to right, lime, cyan);
			-webkit-text-fill-color: transparent; 
			-webkit-background-clip: text; 
    }

    
        #chart-container {
            width: 1200px;
            height: 70vh;
            justify-self: center;
        }

    @font-face {
      font-family: RobotoOld;
      src: url("https://axern.space/font/Roboto-Regular.tff");
    }
  </style>
  </head>

  <script>
    
    var Channels = [
      "UCX6OQ3DkcsbYNE6H8uQQuVA", // MrBeast 
      "UCluBATXIP9doWvougjUVUGQ", // MrBeast (Russia)
      "UCDifkiOICEJ-hiVAvCQlpNA", // MrBeast (Hindi)
      "UClwITvsAr6JnpLmGufudiTw", // MrBeast (Japan)
      "UCbHU7ouxaMgfyWSUtI4QK8Q", // MrBeast (Arabic)
      "UCNAhW2oJvy_FUU082pEDspA", // MrBeast (Spanish)
      "UCggERuskO1F6XKwor-Pvkww", // MrBeast (Brasil)
      "UCbf2Ozi4BF34AY3t3rHj9IA", // MrBeast (France)
      "UCUaT_39o1x6qWjz7K2pWcgw", // Beast Reacts
      "UCneluyh2H6gU7v8gU8El-Cg", // Beast Reacts (Portugese)
      "UCLAVIBJWb6geGRSvWsZ_ang", // Beast Reacts (Russia)
      "UCL6Xc5xuRECnWbGBOKG9APA", // Beast Reacts (Spanish)
      "UCIPPMRA040LQr5QPyJEbmXA", // MrBeast Gaming
      "UC1lZ05QnM1R09HiwNMLDdnw", // MrBeast Gaming (Russia)
      "UCfNGT03h99S3zLbyUD9FMuQ", // MrBeast Gaming (Spanish)
      "UCpPJaHR_s3qYSCzry78G7lg", // MrBeast Gaming (Brasil)
      "UC4-79UOlP48-QNGgCko5p2g", // MrBeast 2
      "UCAiLfjNXkNv24uhpzUgPa6A", // Beast Philantrophy
      "UCZzvDDvaYti8Dd8bLEiSoyQ", // Mrbeast 3
      "UC68DIXWCmetC8N5J_Kc5gjQ", // Don't Subscribe
      "UCzfPgw5WN9bvMiBz-JJYVyw", // More MrBeast Gaming
      "UCUGXeNjz06acZFrQ6BF-58g", // MrBeast Labs
      "UCXGITFpSIGWPTr8ekn9qjMw", // #TeamWater
      "UCgi8vRBlZTXTkkT0IU3SpRw", // #TeamSeas
      "UCTzBfQF4z2ZdXRbfWazLlrQ", // #TeamTrees
      "UCkop5qDbuFV_kBZC0Z_vakQ", // ViewStats
      "UC1yAk-KCgL-tBBzH2zBC08A", // MrBeast Extra
      "UCPiLoWyig0ux15zKhRiIPHA", // MrBeast5997
      "UCEGJqNakp-wYdjg3ZIX3Nzg", // MrBeast5998
      "UClwITvsAr6JnpLmGufudiTw", // MrBeast (Japan)
      "UCsfsTztDWoqfxZuWRMJr4ow", // beast
      "UCUrUe-Gf7RbhATvxDZZE39w", // Totally Not MrBeast
      "UC1qobUV5RkqaahCxQBeNkgA", // MeTalkOverGames
      "UCmaAtMHgspY0au0NR5oz8PA", // john
      "UCDF8LIFp6_MasJC_iN5u4FA", // CurrentContent
      "UChi5xyDEZQVlW6aKRAUiT3w", // Beast Network
      "UCfAYoAWLsiNPQW7FGG6QYWA", // mrbeast5996
      "UCdua5pSBI3MVZ_a8FAgkKFQ", // Feastables
      "UCQrCoBkWDTFmu9JrVbqaa7Q", // mrbeast.store
      "UCRC66Z1rtkjsxlvTrzElWWA", // PewDiePieSubbots
    ];
    var number = 0;
    var work = [];

document.addEventListener("DOMContentLoaded", function () {
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const color = urlParams.get("color") || "FB48C4";
    const grid = urlParams.get('grid') || "false";

    let dataPoints = []; // Store all data points

   const data = [{
                x: [],
                y: [],
                mode: 'lines',
                line: {
                    color: `#${color}`,  // Line color set to black
                    width: 4
                },
            }];

    const layout = {

         xaxis: {
            type: 'date',
            showgrid: true,
            zeroline: false,
            color: 'white'
        },

        yaxis: {
            title: '',
            showgrid: true,
            zeroline: false,
            color: 'white'
        },

        paper_bgcolor: 'rgba(0, 0, 0, 0)',
        plot_bgcolor: 'rgba(0, 0, 0, 0)',
        margin: { t: 50 }
    };

    Plotly.newPlot('chart-container', data, layout);

    async function fetchDataAndChartUpdate() {
        try {
    const ids = Channels.join(",");
    let newSubCount = "0";

    const response = await axios.get("https://ests.sctools.org/api/get/" + ids)
      let number = 0;
      for (let i = 0; i < Channels.length; i++) {
        number += response.data[i]?.stats?.estCount || 0;
      }
      count.innerHTML = number.toLocaleString();
      newSubCount = number;

            if (newSubCount === null) newSubCount = undefined;

            const currentTime = new Date().getTime();
            dataPoints.push({ time: currentTime, count: newSubCount });

            // Filter data to only keep the last 24 hours
            const cutoffTime = currentTime - (24 * 60 * 60 * 1000); // 24 hours in milliseconds
            dataPoints = dataPoints.filter(point => point.time >= cutoffTime);

            const xValues = dataPoints.map(point => new Date(point.time));
            const yValues = dataPoints.map(point => point.count);

            Plotly.update('chart-container', { x: [xValues], y: [yValues] });

            // Adjust axis ranges dynamically
            if (xValues.length > 0 && yValues.length > 0) {
                const xRange = [Math.min(...xValues), Math.max(...xValues)];
                const yRange = [Math.min(...yValues), Math.max(...yValues)];

                Plotly.relayout('chart-container', {
                    'xaxis.range': xRange,
                    'yaxis.range': yRange
                });
            }

            setTimeout(fetchDataAndChartUpdate, 2000);
        } catch (error) {
            console.error('Error fetching data:', error);
            setTimeout(fetchDataAndChartUpdate, 2000);
        }
    }

    fetchDataAndChartUpdate();
});

  </script>
